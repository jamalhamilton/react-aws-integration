{"map":{"version":3,"sources":["static/js/main.d1fdc8f8.chunk.js"],"names":["this","push","126","module","exports","__webpack_require__","131","52","583","586","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","Navbar","Nav","classCallCheck","createClass","possibleConstructorReturn","assertThisInitialized","createSuper","inherits","Container","Row","Col","Button","ProgressBar","react_webcam","react_webcam_default","browser","browser_default","lib","lib_default","siteUrl","clientId","front_config","idme","cliendId","clientSecret","redirectUrl","authEndPoint","aws","accessKey","secretKey","region","bucket","api","verifyID","getUser","registerUser","sendMail","updateUserInfo","Divider","videoConstraints","width","height","facingMode","IDAuth_IDAuth","_React$Component","Object","IDAuth","_super","props","_this","call","userToken","URLSearchParams","location","search","get","window","href","authStep","parseInt","substr","length","webcamRef","a","createRef","state","verifyURL","isPhotoTaken","imageSrc","photo_source","photo_target","uploadedPhoto","uploadedId","blob","resultMsg","msgColor","resultBtnStatus","uploadingProgress","apiTmr","photoCapture","bind","photoTake","comparePhoto","navToVerify","key","value","that","fetch","headers","Content-Type","method","body","JSON","stringify","token","then","res","json","data","status","id","setState","verify_photo","verify_idcard","clearInterval","setInterval","current","getScreenshot","console","log","_this$state","_this$state2","config","update","accessKeyId","secretAccessKey","S3","params","Bucket","fileName","dataURItoBlob","imgFile","File","Key","name","ContentType","Body","putObject","err","alert","message","verifyType","setTimeout","on","progress","loaded","total","percent","errMsg","dataURI","binary","atob","split","mimeString","array","i","charCodeAt","Blob","Uint8Array","type","_that$state","_this$state3","client","Rekognition","SourceImage","S3Object","Name","TargetImage","SimilarityThreshold","compareFaces","response","stack","FaceMatches","forEach","position","Face","BoundingBox","similarity","Similarity","concat","Left","Top","verify_result","createElement","style","textAlign","marginTop","src","marginBottom","display","screenshotFormat","ref","variant","onClick","marginLeft","size","level","includeMargin","color","now","label","animated","alt","Component","components_IDAuth","Form","RegisterForm_RegisterForm","RegisterForm","userInfo","candidate_name_first","candidate_name_last","candidate_email","date_of_interview","social_link","interviewer_name_first","interviewer_name_last","interviewer_email","sendEmail","registerUserData","handleChange","getUsers","e","preventDefault","fname","target","Group","as","onChange","Label","Control","placeholder","Text","className","dateformat","src_App","expand","bg","Brand","Link","path","children","Boolean","hostname","match","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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"},"code":"(this.webpackJsonpidcompare=this.webpackJsonpidcompare||[]).push([[0],{126:function(e,t,a){e.exports=a(586)},131:function(e,t,a){},52:function(e,t){},583:function(e,t,a){},586:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),l=a(22),o=a.n(l),s=(a(131),a(124)),i=a(7),c=a(593),m=a(594),u=a(35),d=a(36),h=a(40),p=a(14),g=a(39),f=a(41),E=a(589),y=a(590),v=a(114),b=a(591),k=a(596),T=a(59),C=a.n(T),S=a(30),_=a.n(S),I=a(113),w=a.n(I),P=\"https://interverify.co\",j=\"34d614b8c18543abd81f338aaeb7b0de\",U={siteUrl:P,idme:{cliendId:j,clientSecret:\"949e15f3b1dace8c2a3c685032d4e28d\",redirectUrl:\"https://interverify.co/idme_code\",authEndPoint:\"https://api.id.me/oauth/authorize?client_id=\"+j+\"&redirect_uri=https://interverify.co/idme_code&response_type=token&scope=loa3\"},aws:{accessKey:\"AKIAVJKPVCLEKM2YG33J\",secretKey:\"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\",region:\"us-east-2\",bucket:\"idauth\"},api:{verifyID:\"/verifyID\",getUser:\"/api/getUser\",registerUser:\"/api/registerUser\",sendMail:\"/api/sendMail\",updateUserInfo:\"/api/updateUserInfo\"}},O=a(595),x={width:1280,height:720,facingMode:\"user\"},M=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;Object(u.a)(this,a),n=t.call(this);var l=new URLSearchParams(e.location.search).get(\"token\");if(!l)return window.location.href=\"/\",Object(h.a)(n);var o=parseInt(l.substr(-1))-8;return l=l.substr(0,l.length-1),n.webcamRef=r.a.createRef(),n.state={userToken:l,authStep:o,verifyURL:U.siteUrl+U.api.verifyID+\"?token=\"+l+\"9\",isPhotoTaken:!1,imageSrc:\"\",photo_source:\"\",photo_target:\"\",uploadedPhoto:\"\",uploadedId:\"\",blob:\"\",resultMsg:\"\",msgColor:\"black\",resultBtnStatus:0,uploadingProgress:0,apiTmr:0},n.photoCapture=n.photoCapture.bind(Object(p.a)(n)),n.photoTake=n.photoTake.bind(Object(p.a)(n)),n.comparePhoto=n.comparePhoto.bind(Object(p.a)(n)),n.navToVerify=n.navToVerify.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:\"componentDidMount\",value:function(){var e=this,t=this.state.userToken;fetch(U.api.getUser,{headers:{\"Content-Type\":\"application/json\"},method:\"POST\",body:JSON.stringify({token:t})}).then((function(e){return e.json()})).then((function(t){t.status&&(e.state.photo_source=t.data.id+\"_face.jpg\",e.state.photo_target=t.data.id+\"_id.jpg\"),e.setState({uploadedPhoto:t.data.verify_photo,uploadedId:t.data.verify_idcard})})),clearInterval(this.state.apiTmr),t&&(this.state.apiTmr=setInterval((function(){e.state.uploadedId?clearInterval(e.state.apiTmr):fetch(U.api.getUser,{headers:{\"Content-Type\":\"application/json\"},method:\"POST\",body:JSON.stringify({token:t})}).then((function(e){return e.json()})).then((function(t){e.setState({uploadedPhoto:t.data.verify_photo,uploadedId:t.data.verify_idcard}),t.data.verify_idcard&&clearInterval(e.state.apiTmr)}))}),3e3))}},{key:\"photoTake\",value:function(){var e=this.state.isPhotoTaken,t=\"\";e||(t=this.webcamRef.current.getScreenshot())?(this.setState({isPhotoTaken:!e,imageSrc:t}),console.log(\"--------- imageSrc\")):this.setState({msgColor:\"red\",resultMsg:\"Camera is not connected!!\",imageSrc:\"\"})}},{key:\"photoCapture\",value:function(){var e=this,t=this.state,a=t.authStep,n=t.userToken,r=t.imageSrc,l=this.state,o=l.photo_source,s=l.photo_target;_.a.config.update({accessKeyId:U.aws.accessKey,secretAccessKey:U.aws.secretKey,region:U.aws.region});var i=new _.a.S3({params:{Bucket:U.aws.bucket}}),c=o;1===a&&(c=s),r=this.dataURItoBlob(r);var m=new File([r],c),u={Key:m.name,ContentType:\"image/jpeg\",Body:m};e.setState({msgColor:\"black\",resultMsg:\"\",uploadingProgress:.1}),i.putObject(u,(function(t,r){if(t)return alert(t.message),!1;var l={verify_photo:c};1===a&&(l={verify_idcard:c}),l.token=n,fetch(U.api.updateUserInfo,{headers:{\"Content-Type\":\"application/json\"},method:\"POST\",body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(t){t.status&&(e.setState({msgColor:\"black\",resultMsg:\"Uploading done.\"}),console.log(\"-------- uploaded: \",t),setTimeout((function(){e.setState({authStep:0,resultMsg:\"\",imageSrc:\"\",isPhotoTaken:!1,resultBtnStatus:0,uploadingProgress:0})}),1e3)),console.log(\"data\",t.data)}))})).on(\"httpUploadProgress\",(function(t){console.log(\"---- uploading progress: \",t),console.log(\"---- uploading progress: \",t.loaded/t.total*100);var a=parseInt(t.loaded/t.total*100);e.setState({uploadingProgress:a})}))}},{key:\"navToVerify\",value:function(){var e=this,t=this.state.userToken;fetch(U.api.getUser,{headers:{\"Content-Type\":\"application/json\"},method:\"POST\",body:JSON.stringify({token:t})}).then((function(e){return e.json()})).then((function(t){if(t.status){var a=\"\";if(t.data.verify_idcard||(a=\"You didn't upload id card photo.\"),t.data.verify_photo||(a=\"You didn't upload face photo.\"),a)return void e.setState({msgColor:\"red\",resultMsg:a});e.setState({photo_source:t.data.verify_photo,photo_target:t.data.verify_idcard}),e.comparePhoto()}else e.setState({msgColor:\"red\",resultMsg:\"Server connection failed.\"})}))}},{key:\"dataURItoBlob\",value:function(e){for(var t=atob(e.split(\",\")[1]),a=e.split(\",\")[0].split(\":\")[1].split(\";\")[0],n=[],r=0;r<t.length;r++)n.push(t.charCodeAt(r));return new Blob([new Uint8Array(n)],{type:a})}},{key:\"comparePhoto\",value:function(){var e=this,t=e.state,a=t.resultBtnStatus,n=t.userToken;if(a)e.setState({authStep:0,resultBtnStatus:0});else{var r=U.aws.bucket,l=this.state,o=l.photo_source,s=l.photo_target;_.a.config.update({accessKeyId:U.aws.accessKey,secretAccessKey:U.aws.secretKey,region:U.aws.region});var i=new _.a.Rekognition,c={SourceImage:{S3Object:{Bucket:r,Name:o}},TargetImage:{S3Object:{Bucket:r,Name:s}},SimilarityThreshold:70};console.log(\"-- compare 0\");try{i.compareFaces(c,(function(t,a){if(t)return console.log(t,t.stack),void e.setState({resultBtnStatus:1,msgColor:\"red\",resultMsg:\"You didn't upload exact personal photo.\"});a.FaceMatches.length?(console.log(\"-- compare 1\"),console.log(\"--- response.faceMatches: \",a.FaceMatches),a.FaceMatches.forEach((function(t){console.log(\"-- compare 2 : \",t);var a=t.Face.BoundingBox,r=t.Similarity;console.log(\"The face at: \".concat(a.Left,\", \").concat(a.Top,\" matches with \").concat(r,\" % confidence\")),fetch(U.api.updateUserInfo,{headers:{\"Content-Type\":\"application/json\"},method:\"POST\",body:JSON.stringify({token:n,verify_result:r})}).then((function(e){return e.json()})).then((function(t){t.status&&(console.log(\"-------- uploaded: \",t),e.setState({resultBtnStatus:1,msgColor:\"black\",resultMsg:\"User's similarity is : \"+r+\".\"})),console.log(\"data\",t.data)}))}))):e.setState({resultBtnStatus:1,msgColor:\"red\",resultMsg:\"User and ID is not matched!\"})}))}catch(m){e.setState({resultBtnStatus:1,msgColor:\"red\",resultMsg:\"You didn't upload exact personal photo.\"}),console.log(m)}}}},{key:\"render\",value:function(){var e=this.state.authStep;return r.a.createElement(E.a,{style:{textAlign:\"center\"}},0===e&&r.a.createElement(\"div\",null,r.a.createElement(y.a,{style:{marginTop:50}},r.a.createElement(v.a,null,r.a.createElement(\"h1\",null,\"Step 2. Verify Your Information\"))),r.a.createElement(O.a,null),r.a.createElement(y.a,{style:{marginTop:30}},r.a.createElement(v.a,null,r.a.createElement(\"h4\",null,\"Your Face Photo\"),r.a.createElement(\"img\",{src:this.state.imageSrc,style:{marginBottom:6,display:this.state.isPhotoTaken?\"inline-block\":\"none\"}}),r.a.createElement(C.a,{style:{display:this.state.isPhotoTaken?\"none\":\"inline-block\"},videoConstraints:x,screenshotFormat:\"image/jpeg\",ref:this.webcamRef}),r.a.createElement(\"p\",null,r.a.createElement(b.a,{variant:\"primary\",onClick:this.photoTake},this.state.isPhotoTaken?\"Retake Photo\":\"Take A Photo\"),r.a.createElement(b.a,{style:{marginLeft:30,display:this.state.isPhotoTaken?\"inline-block\":\"none\"},variant:\"primary\",onClick:this.photoCapture},\"Upload\"))),0===e&&r.a.createElement(v.a,null,r.a.createElement(\"h4\",null,\"Your ID card\"),r.a.createElement(w.a,{value:this.state.verifyURL,size:256,level:\"Q\",includeMargin:!0}),r.a.createElement(\"p\",null,r.a.createElement(\"a\",{href:this.state.verifyURL},this.state.verifyURL)),this.state.uploadedId?r.a.createElement(\"p\",{style:{color:\"red\"}},\"ID has been submitted.\"):r.a.createElement(\"p\",null,\"Please scan this link and upload id card on your phone.\"))),r.a.createElement(O.a,null),r.a.createElement(y.a,{style:{marginTop:30}},r.a.createElement(v.a,null,r.a.createElement(b.a,{variant:\"primary\",onClick:this.navToVerify},\"Verify Information\"))),this.state.uploadingProgress>0&&r.a.createElement(\"div\",null,r.a.createElement(y.a,{style:{marginTop:30}},r.a.createElement(v.a,null),r.a.createElement(v.a,null,r.a.createElement(k.a,{now:this.state.uploadingProgress,label:this.state.uploadingProgress+\"%\",animated:!0})),r.a.createElement(v.a,null)))),1===e&&r.a.createElement(\"div\",null,r.a.createElement(y.a,{style:{marginTop:50}},r.a.createElement(v.a,null,r.a.createElement(\"h1\",null,\"Upload Your ID Card\"))),r.a.createElement(O.a,null),r.a.createElement(y.a,{style:{marginTop:30}},r.a.createElement(v.a,null,r.a.createElement(\"img\",{src:this.state.imageSrc,style:{marginBottom:6,display:this.state.isPhotoTaken?\"inline-block\":\"none\"}}),r.a.createElement(C.a,{style:{display:this.state.isPhotoTaken?\"none\":\"inline-block\"},videoConstraints:x,screenshotFormat:\"image/jpeg\",ref:this.webcamRef}))),r.a.createElement(O.a,null),r.a.createElement(y.a,{style:{marginTop:30}},r.a.createElement(v.a,null,r.a.createElement(\"p\",null,r.a.createElement(b.a,{variant:\"primary\",onClick:this.photoTake},this.state.isPhotoTaken?\"Retake Photo\":\"Take A Photo\"),r.a.createElement(b.a,{style:{marginLeft:30,display:this.state.isPhotoTaken?\"inline-block\":\"none\"},variant:\"primary\",onClick:this.photoCapture},\"Upload\")))),this.state.uploadingProgress>0&&r.a.createElement(\"div\",null,r.a.createElement(y.a,{style:{marginTop:30}},r.a.createElement(v.a,null),r.a.createElement(v.a,null,r.a.createElement(k.a,{now:this.state.uploadingProgress,label:this.state.uploadingProgress+\"%\",animated:!0})),r.a.createElement(v.a,null)))),2===e&&r.a.createElement(\"div\",null,r.a.createElement(y.a,{style:{marginTop:50}},r.a.createElement(v.a,null,r.a.createElement(\"h1\",null,\"Step 2. Verify Your Identity\"))),r.a.createElement(O.a,null),r.a.createElement(y.a,{style:{marginTop:30}},r.a.createElement(v.a,null,r.a.createElement(b.a,{variant:\"primary\",onClick:this.comparePhoto},this.state.resultBtnStatus?\"Upload again\":\"Verify\")))),r.a.createElement(y.a,{style:{marginTop:30,marginBottom:30,color:this.state.msgColor}},r.a.createElement(v.a,null,this.state.resultMsg)),\"\"!==this.state.blob&&r.a.createElement(\"img\",{src:this.state.blob,alt:\"blob\"}))}}]),a}(r.a.Component),B=Object(i.f)(M),N=(a(583),a(584),a(592)),D=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={userInfo:{candidate_name_first:\"\",candidate_name_last:\"\",candidate_email:\"\",date_of_interview:\"\",social_link:\"\",interviewer_name_first:\"\",interviewer_name_last:\"\",interviewer_email:\"\"}},e.sendEmail=e.sendEmail.bind(Object(p.a)(e)),e.registerUserData=e.registerUserData.bind(Object(p.a)(e)),e.handleChange=e.handleChange.bind(Object(p.a)(e)),e}return Object(d.a)(a,[{key:\"componentDidMount\",value:function(){console.log(U.api.getUsers)}},{key:\"sendEmail\",value:function(){}},{key:\"registerUserData\",value:function(e){e.preventDefault();var t=this.state.userInfo;console.log(\"------ userInfo: \",t),console.log(\"------ userInfo: \",t),fetch(U.api.registerUser,{headers:{\"Content-Type\":\"application/json\"},method:\"POST\",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e.status&&fetch(U.api.sendMail,{headers:{\"Content-Type\":\"application/json\"},method:\"POST\",body:JSON.stringify({token:e.token})}).then((function(){alert(\"Email sent successfully to \"+t.candidate_email+\". Please check it.\")})),console.log(\"data\",e.data)}))}},{key:\"handleChange\",value:function(e){var t=e.target.name,a=e.target.value,n=this.state.userInfo;n[t]=a,this.state.userInfo=n}},{key:\"render\",value:function(){return r.a.createElement(E.a,{style:{textAlign:\"center\"}},r.a.createElement(\"div\",null,r.a.createElement(y.a,{style:{marginTop:50}},r.a.createElement(v.a,null,r.a.createElement(\"h1\",null,\"Step 1. Register New User\"))),r.a.createElement(O.a,null),r.a.createElement(N.a,{style:{textAlign:\"left\"}},r.a.createElement(y.a,{style:{marginTop:30}},r.a.createElement(N.a.Group,{as:v.a,onChange:this.handleChange},r.a.createElement(N.a.Label,null,\"Candidate Name\"),r.a.createElement(N.a.Control,{type:\"text\",placeholder:\"\",name:\"candidate_name_first\"}),r.a.createElement(N.a.Text,{className:\"text-muted\"},\"First Name\")),r.a.createElement(N.a.Group,{as:v.a,onChange:this.handleChange},r.a.createElement(N.a.Label,null,\"\\xa0\"),r.a.createElement(N.a.Control,{type:\"text\",placeholder:\"\",name:\"candidate_name_last\"}),r.a.createElement(N.a.Text,{className:\"text-muted\"},\"Last Name\"))),r.a.createElement(y.a,null,r.a.createElement(N.a.Group,{as:v.a,onChange:this.handleChange},r.a.createElement(N.a.Label,null,\"Candidate Email\"),r.a.createElement(N.a.Control,{type:\"email\",placeholder:\"\",name:\"candidate_email\"}),r.a.createElement(N.a.Text,{className:\"text-muted\"},\"example@example.com\")),r.a.createElement(v.a,null)),r.a.createElement(y.a,null,r.a.createElement(N.a.Group,{as:v.a,onChange:this.handleChange},r.a.createElement(N.a.Label,null,\"Date Of Interview\"),r.a.createElement(N.a.Control,{type:\"date\",placeholder:\"\",dateformat:\"YYYY-MM-DD\",name:\"date_of_interview\"}),r.a.createElement(N.a.Text,{className:\"text-muted\"},\"Date\")),r.a.createElement(v.a,null)),r.a.createElement(y.a,null,r.a.createElement(N.a.Group,{as:v.a,onChange:this.handleChange},r.a.createElement(N.a.Label,null,\"Zoom, Skype, Bluejeans, Hirevue link\"),r.a.createElement(N.a.Control,{type:\"text\",placeholder:\"\",name:\"social_link\"}),r.a.createElement(N.a.Text,{className:\"text-muted\"},\"http://www.zoom.us/1234567890\")),r.a.createElement(v.a,null)),r.a.createElement(y.a,null,r.a.createElement(N.a.Group,{as:v.a,onChange:this.handleChange},r.a.createElement(N.a.Label,null,\"Interviewer's Name\"),r.a.createElement(N.a.Control,{type:\"text\",placeholder:\"\",name:\"interviewer_name_first\"}),r.a.createElement(N.a.Text,{className:\"text-muted\"},\"First Name\")),r.a.createElement(N.a.Group,{as:v.a,onChange:this.handleChange},r.a.createElement(N.a.Label,null,\"\\xa0\"),r.a.createElement(N.a.Control,{type:\"text\",placeholder:\"\",name:\"interviewer_name_last\"}),r.a.createElement(N.a.Text,{className:\"text-muted\"},\"Last Name\"))),r.a.createElement(y.a,null,r.a.createElement(N.a.Group,{as:v.a,onChange:this.handleChange},r.a.createElement(N.a.Label,null,\"Interviewer's Email\"),r.a.createElement(N.a.Control,{type:\"email\",placeholder:\"\",name:\"interviewer_email\"}),r.a.createElement(N.a.Text,{className:\"text-muted\"},\"example@example.com\")),r.a.createElement(v.a,null)),r.a.createElement(O.a,null),r.a.createElement(y.a,{style:{marginTop:30,marginBottom:30,textAlign:\"center\"}},r.a.createElement(v.a,null,r.a.createElement(b.a,{variant:\"primary\",type:\"submit\",onClick:this.registerUserData},\"Submit\"))))))}}]),a}(r.a.Component);var L=function(){return r.a.createElement(s.a,null,r.a.createElement(c.a,{expand:\"lg\",variant:\"light\",bg:\"light\"},r.a.createElement(c.a.Brand,{href:\"#\"},\"ID Authenticate\"),r.a.createElement(m.a,{className:\"mr-auto\"},r.a.createElement(m.a.Link,{href:\"/\"},\"Home\"),r.a.createElement(m.a.Link,{href:U.api.verifyID},\"ID Auth\"))),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:U.api.verifyID,children:r.a.createElement(B,null)}),r.a.createElement(i.a,{path:\"/\",children:r.a.createElement(D,null)})))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[126,1,2]]]);","extractedComments":[]}